\documentclass{scrartcl}

% Paket float verbessern
\usepackage{scrhack}

% Kleine Anpassung von maketitle
\usepackage{titling}
% \usepackage{showframe}

% Warnung, falls nochmal kompiliert werden muss
\usepackage[aux]{rerunfilecheck}

% unverzichtbare Mathe-Befehle
\usepackage{amsmath}
% viele Mathe-Symbole
\usepackage{amssymb}
% Erweiterungen für amsmath
\usepackage{mathtools}

% Fonteinstellungen
\usepackage{selnolig}
\usepackage{fontspec}
% Latin Modern Fonts werden automatisch geladen
% Alternativ zum Beispiel:
%\setromanfont{Libertinus Serif}
%\setsansfont{Libertinus Sans}
%\setmonofont{Libertinus Mono}

% Wenn man andere Schriftarten gesetzt hat,
% sollte man das Seiten-Layout neu berechnen lassen
\recalctypearea{}

% deutsche Spracheinstellungen
\usepackage{polyglossia}
\setmainlanguage{german}
\setotherlanguage{english}

\usepackage[
  math-style=ISO,    % ┐
  bold-style=ISO,    % │
  sans-style=italic, % │ ISO-Standard folgen
  nabla=upright,     % │
  partial=upright,   % ┘
  warnings-off={           % ┐
    mathtools-colon,       % │ unnötige Warnungen ausschalten
    mathtools-overbracket, % │
  },                       % ┘
]{unicode-math}

% traditionelle Fonts für Mathematik
\setmathfont{Latin Modern Math}
% Alternativ zum Beispiel:
%\setmathfont{Libertinus Math}

\setmathfont{XITS Math}[range={scr, bfscr}]
\setmathfont{XITS Math}[range={cal, bfcal}, StylisticSet=1]

% Zahlen und Einheiten
\usepackage[
  locale=DE,                   % deutsche Einstellungen
  separate-uncertainty=true,   % immer Fehler mit \pm
  per-mode=symbol-or-fraction, % / in inline math, fraction in display math
]{siunitx}

% chemische Formeln
\usepackage[
  version=4,
  math-greek=default, % ┐ mit unicode-math zusammenarbeiten
  text-greek=default, % ┘
]{mhchem}

% richtige Anführungszeichen
\usepackage[autostyle]{csquotes}

% schöne Brüche im Text
\usepackage{xfrac}

% Standardplatzierung für Floats einstellen
\usepackage{float}
\floatplacement{figure}{htbp}
\floatplacement{table}{htbp}

% Floats innerhalb einer Section halten
\usepackage[
  section, % Floats innerhalb der Section halten
  below,   % unterhalb der Section aber auf der selben Seite ist ok
]{placeins}

% Seite drehen für breite Tabellen: landscape Umgebung
\usepackage{pdflscape}

% Captions schöner machen.
\usepackage[
  labelfont=bf,        % Tabelle x: Abbildung y: ist jetzt fett
  font=small,          % Schrift etwas kleiner als Dokument
  width=0.9\textwidth, % maximale Breite einer Caption schmaler
]{caption}
% subfigure, subtable, subref
\usepackage{subcaption}

% Grafiken können eingebunden werden
\usepackage{graphicx}
% größere Variation von Dateinamen möglich
\usepackage{grffile}

% schöne Tabellen
\usepackage{booktabs}

% Verbesserungen am Schriftbild
\usepackage{microtype}

% Literaturverzeichnis
\usepackage[
  backend=biber,
]{biblatex}
% Quellendatenbank
% \addbibresource{lit.bib}
% \addbibresource{programme.bib}

% Hyperlinks im Dokument
\usepackage[
  unicode,        % Unicode in PDF-Attributen erlauben
  pdfusetitle,    % Titel, Autoren und Datum als PDF-Attribute
  pdfcreator={},  % ┐ PDF-Attribute säubern
  pdfproducer={}, % ┘
]{hyperref}
% erweiterte Bookmarks im PDF
\usepackage{bookmark}
\usepackage{cleveref} % muss nach hyperref kommen

% Trennung von Wörtern mit Strichen
\usepackage[shortcuts]{extdash}

\usepackage{expl3}
\usepackage{xparse}

\usepackage{minted}
\usepackage{enumerate}
\usepackage{exsheets}
\SetupExSheets{
  headings=block-subtitle,
  question/name=Aufgabe,
}

\DeclareInstance{exsheets-heading}{block-subtitle}{default}{
  join = {
    title[r,B]number[l,B](.333em,0pt) ;
    title[r,B]subtitle[l,B](1em,0pt)
  } ,
  attach = {
    main[l,vc]title[l,vc](0pt,0pt) ;
    main[r,vc]points[l,vc](\marginparsep,0pt)
  }
}

\setlength{\droptitle}{-4em}
\pretitle{\begin{center}\Large}
\posttitle{\par\end{center}}
\preauthor{
  \begin{center}\large \lineskip 0.2em
    \begin{tabular}[t]{c}
}
\postauthor{\end{tabular}\par\end{center}}
\predate{\begin{center}\normalsize}
\postdate{\par\end{center}}

\setlength{\parindent}{0cm}
\setlength{\topmargin}{0in}
\setlength{\headheight}{0cm}
\setlength{\headsep}{0cm}
\setlength{\textheight}{9.0in}
\setlength{\evensidemargin}{0.0in}
\setlength{\oddsidemargin}{0.0in}
\setlength{\textwidth}{6in}
\setlength{\footskip}{.8in}

\title{\textsf{\textbf{Übungen zum wissenschaftlichen Programmieren SS2019}}}
\author{Prof.\,Dr.\,W.\,Kilian\unskip, S.\,Braß}

\ExplSyntaxOn
\RenewDocumentCommand \maketitlehooka {} {
  \rule{\textwidth}{1pt}
}
\RenewDocumentCommand \maketitlehookd {} {
  \rule{\textwidth}{1pt}
}
\RenewDocumentCommand \maketitlehookc {} {
  \begin{center}
    \large \AufgabenBlatt
  \end{center}
}
\NewDocumentCommand \I {}
{
\symup{i}
}
\NewDocumentCommand \Sp {}
{
  \operatorname{Sp}
}
\NewDocumentCommand \adj {}
{
  \operatorname{adj}
}
\ExplSyntaxOff
